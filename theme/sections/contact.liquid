<section class="contact-section">
  <div class="container">
    <div class="contact-header">
      {%- if section.settings.title != blank -%}
        <h1 class="contact-title">{{ section.settings.title }}</h1>
      {%- endif -%}

      {%- if section.settings.subtitle != blank -%}
        <p class="contact-subtitle">{{ section.settings.subtitle }}</p>
      {%- endif -%}
    </div>

    <div class="contact-wrapper">
      <div class="contact-form-container">
        <h2 class="contact-form-title">{{ section.settings.form_title | default: "Send us a message" }}</h2>

        {%- form 'contact' -%}
          {%- if form.posted_successfully? -%}
            <div class="contact-success">
              <svg class="contact-success__icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>{{ section.settings.success_message | default: "Thanks for contacting us! We'll get back to you soon." }}</p>
            </div>
          {%- elsif form.errors -%}
            <div class="contact-error">
              <svg class="contact-error__icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</p>
            </div>
          {%- endif -%}

          <div class="form-row">
            <div class="form-group">
              <label for="ContactForm-name">Name *</label>
              <input
                type="text"
                id="ContactForm-name"
                name="contact[name]"
                placeholder="Your name"
                value="{% if form.name %}{{ form.name }}{% endif %}"
                required
              >
            </div>

            <div class="form-group">
              <label for="ContactForm-email">Email *</label>
              <input
                type="email"
                id="ContactForm-email"
                name="contact[email]"
                placeholder="your@email.com"
                value="{% if form.email %}{{ form.email }}{% endif %}"
                required
              >
            </div>
          </div>

          <div class="form-group">
            <label for="ContactForm-phone">Phone Number</label>
            <input
              type="tel"
              id="ContactForm-phone"
              name="contact[phone]"
              placeholder="(441) 555-6789"
              value="{% if form.phone %}{{ form.phone }}{% endif %}"
            >
          </div>

          <div class="form-group">
            <label for="ContactForm-message">Message *</label>
            <textarea
              id="ContactForm-message"
              name="contact[body]"
              rows="6"
              placeholder="How can we help you?"
              required
            >{% if form.body %}{{ form.body }}{% endif %}</textarea>
          </div>

          <button type="submit" class="contact-submit-btn">
            {{ section.settings.button_text | default: "Send Message" }}
          </button>
        {%- endform -%}
      </div>

      <div class="contact-info">
        <h2 class="contact-info-title">{{ section.settings.info_title | default: "Contact Information" }}</h2>

        {%- if section.settings.show_email and section.settings.email != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Email</h3>
              <a href="mailto:{{ section.settings.email }}">{{ section.settings.email }}</a>
            </div>
          </div>
        {%- endif -%}

        {%- if section.settings.show_phone and section.settings.phone != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Phone</h3>
              <a href="tel:{{ section.settings.phone | replace: ' ', '' | replace: '(', '' | replace: ')', '' | replace: '-', '' }}">{{ section.settings.phone }}</a>
            </div>
          </div>
        {%- endif -%}

        {%- if section.settings.show_address and section.settings.address != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Address</h3>
              <p>{{ section.settings.address }}</p>
            </div>
          </div>
        {%- endif -%}

        {%- if section.settings.show_hours and section.settings.hours != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Business Hours</h3>
              <p>{{ section.settings.hours | newline_to_br }}</p>
            </div>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

<style>
  /* === CONTACT SECTION === */
  .contact-section {
    background-color: #fff;
    padding: 60px 20px 80px;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  /* === HEADER === */
  .contact-header {
    max-width: 700px;
    margin: 0 auto 48px;
    text-align: center;
  }

  .contact-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #222;
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .contact-subtitle {
    font-size: 16px;
    color: #666;
    line-height: 1.6;
  }

  /* === WRAPPER (2-COLUMN LAYOUT) === */
  .contact-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    max-width: 1000px;
    margin: 0 auto;
  }

  /* === FORM CONTAINER === */
  .contact-form-container {
    background-color: #fafafa;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    padding: 32px;
  }

  .contact-form-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #222;
    margin-bottom: 24px;
  }

  /* === SUCCESS/ERROR MESSAGES === */
  .contact-success,
  .contact-error {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border-radius: 6px;
    margin-bottom: 20px;
    font-size: 15px;
  }

  .contact-success {
    background-color: #F0FDF4;
    border: 1px solid #BBF7D0;
    color: #166534;
  }

  .contact-error {
    background-color: #FEF2F2;
    border: 1px solid #FECACA;
    color: #991B1B;
  }

  .contact-success__icon,
  .contact-error__icon {
    flex-shrink: 0;
  }

  .contact-success p,
  .contact-error p {
    margin: 0;
  }

  /* === FORM LAYOUT === */
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
  }

  .form-group {
    margin-bottom: 20px;
  }

  .form-group label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: #222;
    margin-bottom: 8px;
  }

  .form-group input,
  .form-group textarea {
    width: 100%;
    padding: 12px 14px;
    font-size: 16px;
    color: #222;
    background-color: #fff;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-family: inherit;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .form-group input::placeholder,
  .form-group textarea::placeholder {
    color: #666;
  }

  .form-group input:focus,
  .form-group textarea:focus {
    outline: 2px solid #d46b08;
    outline-offset: 2px;
    border-color: #d46b08;
  }

  .form-group textarea {
    resize: vertical;
    min-height: 120px;
  }

  /* === SUBMIT BUTTON === */
  .contact-submit-btn {
    width: 100%;
    min-height: 48px;
    padding: 14px 24px;
    font-size: 16px;
    font-weight: 600;
    color: #fff;
    background-color: #d46b08;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-family: inherit;
  }

  .contact-submit-btn:hover,
  .contact-submit-btn:focus {
    background-color: #b85a07;
  }

  .contact-submit-btn:focus {
    outline: 2px solid #d46b08;
    outline-offset: 2px;
  }

  /* === CONTACT INFO === */
  .contact-info {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .contact-info-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #222;
    margin-bottom: 12px;
  }

  .contact-info-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 0.5rem 1rem;
    background-color: #fff;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
  }

  .contact-info-icon {
    flex-shrink: 0;
    color: #d46b08;
  }

  .contact-info-item > div {
    flex: 1;
    min-width: 0;
  }

  .contact-info-item h3 {
    font-size: 12px;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0 0 4px 0;
  }

  .contact-info-item a {
    font-size: 16px;
    font-weight: 500;
    color: #d46b08;
    text-decoration: none;
    word-break: break-word;
    transition: color 0.2s ease;
  }

  .contact-info-item a:hover {
    color: #b85a07;
    text-decoration: underline;
  }

  .contact-info-item p {
    font-size: 16px;
    color: #222;
    line-height: 1.5;
    word-break: break-word;
    margin: 0;
  }

  /* === MOBILE RESPONSIVE (â‰¤768px) === */
  @media (max-width: 768px) {
    .contact-section {
      padding: 40px 16px 60px;
    }

    .contact-title {
      font-size: 2rem;
    }

    .contact-subtitle {
      font-size: 15px;
    }

    .contact-header {
      margin-bottom: 32px;
    }

    .contact-wrapper {
      grid-template-columns: 1fr;
      gap: 0;
    }

    .contact-form-container {
      padding: 24px 20px;
      margin-bottom: 40px;
    }

    .contact-form-title {
      font-size: 1.25rem;
    }

    .form-row {
      grid-template-columns: 1fr;
      gap: 0;
    }

    .form-group input,
    .form-group textarea {
      font-size: 15px;
    }

    .contact-submit-btn {
      font-size: 15px;
    }

    .contact-info-title {
      font-size: 1.25rem;
    }

    .contact-info-item a,
    .contact-info-item p {
      font-size: 15px;
    }
  }
</style>

{% schema %}
{
  "name": "Contact Section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Page Title",
      "default": "Contact Us"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Have a question? We'd love to hear from you. Send us a message and we'll respond as soon as possible."
    },
    {
      "type": "header",
      "content": "Contact Form"
    },
    {
      "type": "text",
      "id": "form_title",
      "label": "Form Title",
      "default": "Send us a message"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Send Message"
    },
    {
      "type": "textarea",
      "id": "success_message",
      "label": "Success Message",
      "default": "Thanks for contacting us! We'll get back to you as soon as possible."
    },
    {
      "type": "header",
      "content": "Contact Information"
    },
    {
      "type": "text",
      "id": "info_title",
      "label": "Info Section Title",
      "default": "Contact Information"
    },
    {
      "type": "checkbox",
      "id": "show_email",
      "label": "Show Email",
      "default": true
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email",
      "default": "support@oneeko.com"
    },
    {
      "type": "checkbox",
      "id": "show_phone",
      "label": "Show Phone",
      "default": true
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Phone",
      "default": "(441) 555-6789"
    },
    {
      "type": "checkbox",
      "id": "show_address",
      "label": "Show Address",
      "default": true
    },
    {
      "type": "textarea",
      "id": "address",
      "label": "Address",
      "default": "Front Street\nHamilton HM 12\nBermuda"
    },
    {
      "type": "checkbox",
      "id": "show_hours",
      "label": "Show Business Hours",
      "default": true
    },
    {
      "type": "textarea",
      "id": "hours",
      "label": "Business Hours",
      "default": "Monday - Friday: 9am - 6pm AST\nSaturday: 10am - 4pm AST\nSunday: Closed"
    }
  ],
  "presets": [
    {
      "name": "Contact Section"
    }
  ]
}
{% endschema %}
