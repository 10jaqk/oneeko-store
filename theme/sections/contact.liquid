<section class="contact-section py-16">
  <div class="container">
    <div class="contact-header">
      {%- if section.settings.title != blank -%}
        <h1 class="contact-title">{{ section.settings.title }}</h1>
      {%- endif -%}

      {%- if section.settings.subtitle != blank -%}
        <p class="contact-subtitle">{{ section.settings.subtitle }}</p>
      {%- endif -%}
    </div>

    <div class="contact-wrapper">
      <div class="contact-form-container">
        <h2 class="contact-form-title">{{ section.settings.form_title | default: "Send us a message" }}</h2>

        {%- form 'contact' -%}
          {%- if form.posted_successfully? -%}
            <div class="contact-success">
              <svg class="contact-success__icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>{{ section.settings.success_message | default: "Thanks for contacting us! We'll get back to you soon." }}</p>
            </div>
          {%- elsif form.errors -%}
            <div class="contact-error">
              <svg class="contact-error__icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</p>
            </div>
          {%- endif -%}

          <div class="form-row">
            <div class="form-group">
              <label for="ContactForm-name">Name *</label>
              <input
                type="text"
                id="ContactForm-name"
                name="contact[name]"
                placeholder="Your name"
                value="{% if form.name %}{{ form.name }}{% endif %}"
                required
              >
            </div>

            <div class="form-group">
              <label for="ContactForm-email">Email *</label>
              <input
                type="email"
                id="ContactForm-email"
                name="contact[email]"
                placeholder="your@email.com"
                value="{% if form.email %}{{ form.email }}{% endif %}"
                required
              >
            </div>
          </div>

          <div class="form-group">
            <label for="ContactForm-phone">Phone Number</label>
            <input
              type="tel"
              id="ContactForm-phone"
              name="contact[phone]"
              placeholder="(555) 123-4567"
              value="{% if form.phone %}{{ form.phone }}{% endif %}"
            >
          </div>

          <div class="form-group">
            <label for="ContactForm-message">Message *</label>
            <textarea
              id="ContactForm-message"
              name="contact[body]"
              rows="6"
              placeholder="How can we help you?"
              required
            >{% if form.body %}{{ form.body }}{% endif %}</textarea>
          </div>

          <button type="submit" class="btn btn-primary btn-full">
            {{ section.settings.button_text | default: "Send Message" }}
          </button>
        {%- endform -%}
      </div>

      <div class="contact-info">
        <h2 class="contact-info-title">{{ section.settings.info_title | default: "Contact Information" }}</h2>

        {%- if section.settings.show_email and section.settings.email != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Email</h3>
              <a href="mailto:{{ section.settings.email }}">{{ section.settings.email }}</a>
            </div>
          </div>
        {%- endif -%}

        {%- if section.settings.show_phone and section.settings.phone != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Phone</h3>
              <a href="tel:{{ section.settings.phone | replace: ' ', '' | replace: '(', '' | replace: ')', '' | replace: '-', '' }}">{{ section.settings.phone }}</a>
            </div>
          </div>
        {%- endif -%}

        {%- if section.settings.show_address and section.settings.address != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Address</h3>
              <p>{{ section.settings.address }}</p>
            </div>
          </div>
        {%- endif -%}

        {%- if section.settings.show_hours and section.settings.hours != blank -%}
          <div class="contact-info-item">
            <svg class="contact-info-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3>Business Hours</h3>
              <p>{{ section.settings.hours | newline_to_br }}</p>
            </div>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

<style>
  .contact-section {
    background-color: var(--color-bg-primary);
  }

  .contact-header {
    max-width: 800px;
    margin: 0 auto var(--spacing-12);
    text-align: center;
  }

  .contact-title {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-4);
  }

  .contact-subtitle {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  .contact-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-12);
    max-width: 1200px;
    margin: 0 auto;
  }

  .contact-form-container {
    background-color: var(--color-bg-primary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-8);
  }

  .contact-form-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-6);
  }

  .contact-success,
  .contact-error {
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    padding: var(--spacing-4);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-6);
  }

  .contact-success {
    background-color: #F0FDF4;
    border: 1px solid #BBF7D0;
    color: #166534;
  }

  .contact-error {
    background-color: #FEF2F2;
    border: 1px solid #FECACA;
    color: #991B1B;
  }

  .contact-success__icon,
  .contact-error__icon {
    flex-shrink: 0;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-4);
  }

  .form-group {
    margin-bottom: var(--spacing-5);
  }

  .form-group label {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-2);
  }

  .form-group input,
  .form-group textarea {
    width: 100%;
    padding: var(--spacing-3);
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    background-color: var(--color-bg-primary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    transition: border-color var(--transition-base);
  }

  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--color-brand-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  .form-group textarea {
    resize: vertical;
    font-family: inherit;
  }

  .btn-full {
    width: 100%;
    justify-content: center;
  }

  .contact-info {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-6);
  }

  .contact-info-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-2);
  }

  .contact-info-item {
    display: flex;
    gap: var(--spacing-4);
    padding: var(--spacing-5);
    background-color: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
  }

  .contact-info-icon {
    flex-shrink: 0;
    color: var(--color-brand-primary);
  }

  .contact-info-item h3 {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--spacing-1);
  }

  .contact-info-item a {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-brand-primary);
    text-decoration: none;
    transition: color var(--transition-base);
  }

  .contact-info-item a:hover {
    color: var(--color-brand-secondary);
    text-decoration: underline;
  }

  .contact-info-item p {
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    line-height: 1.6;
  }

  @media (max-width: 991px) {
    .contact-wrapper {
      grid-template-columns: 1fr;
      gap: var(--spacing-8);
    }
  }

  @media (max-width: 767px) {
    .contact-title {
      font-size: var(--font-size-3xl);
    }

    .contact-form-container {
      padding: var(--spacing-6);
    }

    .form-row {
      grid-template-columns: 1fr;
      gap: 0;
    }

    .contact-info-item {
      padding: var(--spacing-4);
    }
  }
</style>

{% schema %}
{
  "name": "Contact Section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Page Title",
      "default": "Contact Us"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Have a question? We'd love to hear from you. Send us a message and we'll respond as soon as possible."
    },
    {
      "type": "header",
      "content": "Contact Form"
    },
    {
      "type": "text",
      "id": "form_title",
      "label": "Form Title",
      "default": "Send us a message"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Send Message"
    },
    {
      "type": "textarea",
      "id": "success_message",
      "label": "Success Message",
      "default": "Thanks for contacting us! We'll get back to you as soon as possible."
    },
    {
      "type": "header",
      "content": "Contact Information"
    },
    {
      "type": "text",
      "id": "info_title",
      "label": "Info Section Title",
      "default": "Contact Information"
    },
    {
      "type": "checkbox",
      "id": "show_email",
      "label": "Show Email",
      "default": true
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email",
      "default": "support@oneeko.com"
    },
    {
      "type": "checkbox",
      "id": "show_phone",
      "label": "Show Phone",
      "default": true
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Phone",
      "default": "(555) 123-4567"
    },
    {
      "type": "checkbox",
      "id": "show_address",
      "label": "Show Address",
      "default": true
    },
    {
      "type": "textarea",
      "id": "address",
      "label": "Address",
      "default": "123 Main Street\nNew York, NY 10001\nUnited States"
    },
    {
      "type": "checkbox",
      "id": "show_hours",
      "label": "Show Business Hours",
      "default": true
    },
    {
      "type": "textarea",
      "id": "hours",
      "label": "Business Hours",
      "default": "Monday - Friday: 9am - 6pm EST\nSaturday: 10am - 4pm EST\nSunday: Closed"
    }
  ],
  "presets": [
    {
      "name": "Contact Section"
    }
  ]
}
{% endschema %}
