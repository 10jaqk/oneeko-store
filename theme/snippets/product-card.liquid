<div class="product-card" data-price="{{ product.price }}" data-available="{{ product.available }}">
  <a href="{{ product.url }}" class="product-card__link">
    <div class="product-card__image-wrapper">
      {%- if product.featured_image -%}
        <img
          src="{{ product.featured_image | image_url: width: 400, format: 'pjpg' }}"
          srcset="{{ product.featured_image | image_url: width: 200, format: 'pjpg' }} 200w,
                  {{ product.featured_image | image_url: width: 400, format: 'pjpg' }} 400w,
                  {{ product.featured_image | image_url: width: 600, format: 'pjpg' }} 600w,
                  {{ product.featured_image | image_url: width: 800, format: 'pjpg' }} 800w"
          sizes="(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw"
          alt="{{ product.featured_image.alt | default: product.title | escape }}"
          width="{{ product.featured_image.width }}"
          height="{{ product.featured_image.height }}"
          loading="lazy"
          class="product-card__image"
        >
      {%- else -%}
        <div class="product-card__placeholder">
          {{ 'product-1' | placeholder_svg_tag: 'product-card__placeholder-svg' }}
        </div>
      {%- endif -%}

      {%- if product.compare_at_price > product.price -%}
        <span class="product-card__badge product-card__badge--sale">
          {{ 'products.product.on_sale' | t }}
        </span>
      {%- endif -%}

      {%- if product.available == false -%}
        <span class="product-card__badge product-card__badge--sold-out">
          {{ 'products.product.sold_out' | t }}
        </span>
      {%- endif -%}
    </div>

    <div class="product-card__info">
      <h3 class="product-card__title">{{ product.title }}</h3>

      <div class="product-card__price">
        {%- if product.compare_at_price > product.price -%}
          <span class="product-card__price-sale">{{ product.price | money }}</span>
          <span class="product-card__price-compare">{{ product.compare_at_price | money }}</span>
        {%- else -%}
          <span class="product-card__price-regular">{{ product.price | money }}</span>
        {%- endif -%}
      </div>
    </div>
  </a>
</div>
